<!--Lecture - 12 Advanced Function - Part 2-->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="author" content="Faiz Khalid">
    <meta name="description" content="Practicing Exercises for Advanced Function - Part 2">
    <title>Advanced Function - Exercises</title>
    <style></style>
    </head>
    <body>

         <!-- <button class="js-button js-start-button">Start</button>  -->

        <!-- <button class="js-add-button">Add</button>

        <button class="js-remove-button">Remove</button> -->

        <button class="js-add-button">Add</button>

        <button class="js-remove-button">Remove</button -->

       <!-- <button class="js-button js-add-to-cart-button">Add to cart</button>
    
        <p class="js-message"></p> -->
        
        

        <script>

    /* document.querySelector('.js-start-button').addEventListener('click', () => {
        updateButton();
     }); */

    /* document.querySelector('.js-add-to-cart-button').addEventListener('click', () => {
        displayMessage();
     }); */

     /* let messages = 2;

     document.querySelector('.js-add-button').addEventListener('click', () => {
        messages++;
     });

     document.querySelector('.js-remove-button').addEventListener('click', () => {
        messages--;
     });

     setInterval(function() {
        if (document.title === 'App') {
          document.title = `(${messages}) New messages`;
        } else {
          document.title = 'App';
        }
      }, 1000); 

     let timeoutId;

      function displayMessage() {
        const messageElement = document.querySelector('.js-message');
        messageElement.innerHTML = 'Added';

        clearTimeout(timeoutId);

        timeoutId = setTimeout(function() {
          messageElement.innerHTML = '';
        }, 2000);
      }*/

     /* function displayMessage() {
        const messageElement = document.querySelector('.js-message');
        messageElement.innerHTML = 'Added';

        setTimeout(function() {
          messageElement.innerHTML = '';
        }, 2000);
      } */


        /* function updateButton() {
        const button = document.querySelector('.js-button');

        setTimeout(function() {
          button.innerHTML = 'Finished!';
        }, 1000);
      } */

      /* function updateButton() {
        const button = document.querySelector('.js-button');
        
        button.innerHTML = 'Loading...';
        setTimeout(function() {
          button.innerHTML = 'Finished!';
        }, 1000);
      } */

             /*const multiply = (num1, num2) => {
                const result = num1 * num2;
                return result;
            }
            console.log(multiply(2, 3)); 
            console.log(multiply(7, 10));*/
            

            /* const multiply = (num1, num2) => num1 * num2; // arrow function on one line
            console.log(multiply(2, 3)); 
            console.log(multiply(7, 10)); */

            /* function countPositive(nums) {
                let countPositiveNumbers = 0;

                nums.forEach((num) => {
                    if (num > 0) {
                        countPositiveNumbers++;
                    }
            });
            return countPositiveNumbers;
            }
            console.log(countPositive([1, -3, 5]));
            console.log(countPositive([-2, 3, -5, 7, 10])); */

            /* function addNum(array, num){
            return array.map((value) => value + num);
           };
           console.log(addNum([1, 2, 3], 2)); */ 

          /*  const addNum = (array, num) => array.map(value => value + num);
           console.log(addNum([1, 2, 3], 2)); */

           /* function removeEgg(foods) {
            return foods.filter(value => value !== 'egg');
           }
           console.log(removeEgg(['apple','egg', 'egg', 'ham'])); */
            
             /*  function removeEgg(foods) {
                let count = 0;
                return foods.filter(value => { 
                    if (value === 'egg' && count < 2) {
                        count++;
                    return false;
                }
                return true;
                
                });   
        }
        console.log(removeEgg(['egg','apple','egg', 'egg', 'ham'])); 
    
      
      const updateButton = () => {
        const button = document.querySelector('.js-button');

        setTimeout(function() {
          button.innerHTML = 'Finished!';
        }, 1000); 
        } */

      /* const updateButton = () => {
        const button = document.querySelector('.js-button');
        
        button.innerHTML = 'Loading...';
        setTimeout(function() {
          button.innerHTML = 'Finished!';
        }, 1000);
      } */

      /* const displayMessage = () => {
        const messageElement = document.querySelector('.js-message');
        messageElement.innerHTML = 'Added';

        setTimeout(function() {
          messageElement.innerHTML = '';
        }, 2000);
      } */

        /* let timeoutId;

        const displayMessage = () => {
        const messageElement = document.querySelector('.js-message');
        messageElement.innerHTML = 'Added';

        clearTimeout(timeoutId);

        timeoutId = setTimeout(function() {
          messageElement.innerHTML = '';
        }, 2000);
      } */

      /* setInterval(() => {
        if (document.title === 'App') {
          document.title = '(2) New messages';
        } else {
          document.title = 'App';
        }
      }, 1000); */

      /* let messages = 2;

      setInterval(function() {
        if (document.title === 'App') {
          document.title = `(${messages}) New messages`;
        } else {
          document.title = 'App';
        }
      }, 1000); */

      document.querySelector('.js-add-button').addEventListener('click', () => {
        messages++;
        displayNotification();
      });

      document.querySelector('.js-remove-button').addEventListener('click', () => {
        if (messages > 0) {
        messages--;
        }

        if (messages === 0) {
          stopNotification();
        }
      });

      let messages = 2;

      let intervalId;

      let isDisplayingNotification;

      displayNotification();

      function displayNotification() {
        
        if (isDisplayingNotification) {
          return;
        }

        isDisplayingNotification = true;

        intervalId = setInterval(function() {
          if (document.title === 'App') {
            document.title = `(${messages}) New messages`;
          } else {
            document.title = 'App';
          }
        }, 1000);
      }

      function stopNotification()  {
        isDisplayingNotification = false;

        clearInterval(intervalId);
        document.title = 'App';
      }


 
   

        </script>
    </body>
    </html>

